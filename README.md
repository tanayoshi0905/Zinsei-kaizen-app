# 理想アドバイザー

現状を入力すると、理想ダイヤ（理想像）と「遅延（分）」、ギャップ、次のアクションを提示する、オフラインファーストなシングルページアプリです。鉄道の運行掲示板風デザインで、オンタイム率と遅延内訳も表示します。

## 使い方

- `index.html` をブラウザで開きます。
- テキストエリアに「今の状況・目標・課題」を日本語で自由に入力して「分析する」を押します。
- 結果として以下を表示します:
  - 理想ダイヤ（テンプレート生成）
  - 遅延（分）とオンタイム率（バー表示）
  - 遅延要因（ギャップ）
  - 遅延内訳（総遅延を各要素へ按分）
  - 遅延短縮プラン（次の2週間）
- 「前回の結果を読み込む」で直前の入力/結果を復元できます（localStorage）。

## オフライン/オンライン

- デフォルトはすべてローカルのヒューリスティックで分析し、ネットワーク不要で動作します。
- 既定でAPIはON、`API Base URL`と`Model`は入力済み、`APIモード: 全評価をAPIに任せる`が選択済みです。`API Key`は未入力なので、利用する際はご自身のキーを入力してください（未入力の場合は自動でローカル評価にフォールバックします）。
- 設定を変える場合は、右上の「APIを使う」をONのまま、`API Base URL`/`Model`/`APIモード`/`API Key`を調整してください。

## 外観とSE

- テーマ: 「JRグリーン」「メトロブルー」「私鉄オレンジ」から選択できます。
- サウンド: 「SEを鳴らす」をONにすると、遅延の深刻度に応じて効果音が鳴ります（クリック操作後のみ再生）。

## スコア/遅延の考え方（簡易）

- 目標の明確さ: 数値・単位・期限の有無を重視
- 実行・継続: 続いている/続かない等の言及と障害の有無
- 計画・一貫性: 固定時間/頻度/スケジュール/期限
- リソース整備: 場所/道具/アプリ/準備
- 記録・振り返り: ログ・レビューの仕組み

重み付きで総合点（0–100）を算出し、低いほど「遅延（分）」が大きくなります。遅延内訳は、総遅延を各要素の不足度×重みに比例して按分するため、内訳の合計が必ず総遅延と一致します。

## 構成

- `index.html`: 画面
- `styles.css`: スタイル
- `script.js`: 分析ロジックとUI制御

## ライセンス

このリポジトリ内のコードは指示がない限り、プロジェクト内で自由に利用できる前提です（明示ライセンスが必要な場合は追記してください）。
